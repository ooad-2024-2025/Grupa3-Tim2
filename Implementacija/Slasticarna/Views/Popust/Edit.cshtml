@model Slasticarna.Models.Popust

@{
    ViewData["Title"] = "Edit Popust";
}

<h1>Edit Popust</h1>

<h4>Popust</h4>
<hr />
<form asp-action="Edit">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <input type="hidden" asp-for="PopustID" />

    <div class="form-group">
        <label asp-for="IznosPopusta" class="control-label"></label>
        <input asp-for="IznosPopusta" class="form-control" />
        <span asp-validation-for="IznosPopusta" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="KodZaPopust" class="control-label"></label>
        <input asp-for="KodZaPopust" class="form-control" />
        <span asp-validation-for="KodZaPopust" class="text-danger"></span>
    </div>

    <!-- Checkbox list for products -->
    <div class="form-group">
        <label>Assign Products</label>
        @foreach (var product in ViewBag.AllProducts)
        {
            <div class="form-check">
                <input type="checkbox" class="form-check-input" name="selectedProducts" value="@product.ProizvodID"
                       @(ViewBag.SelectedProducts != null && ViewBag.SelectedProducts.Contains(product.ProizvodID) ? "checked" : "") />
                <label class="form-check-label">@product.Naziv</label>
            </div>
        }
        <span asp-validation-for="PopustProizvodi" class="text-danger"></span>
    </div>

    <div class="form-group">
        <input type="submit" value="Save" class="btn btn-primary" />
    </div>
</form>

<div>
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
